/* styles.css */
#mars-dice-container { position: fixed; z-index: 2147483647; right: 20px; bottom: 20px; }
#mars-dice { width: 80px; height: 80px; border-radius: 12px;
  display:flex; align-items:center; justify-content:center; cursor:pointer; user-select:none; overflow:hidden;
  background: transparent; box-shadow: none; transition: transform 0.12s ease; position: relative; perspective: 600px;
}
/* idle logo overlay */
#dice-logo { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; border-radius: 12px; pointer-events: none; }
/* face number label */
#dice-face-label { position: absolute; left: 50%; bottom: calc(100% + 8px); transform: translateX(-50%);
  display: none; padding: 2px 8px; font-size: 14px; font-weight: 800; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
  color: #c62828; background: none; border: none; border-radius: 999px; box-shadow: 0 4px 12px rgba(211,47,47,0.18);
  z-index: 1;
}
/* 3D cube for dice */
#mars-cube.cube { width: 100%; height: 100%; position: relative; transform-style: preserve-3d; }
#mars-cube .face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 12px; overflow: hidden; }
#mars-cube .face img { width: 100%; height: 100%; pointer-events:none; display:block; object-fit: cover; }
/* size is 80px so half-depth is 40px */
#mars-cube .face-1 { transform: translateZ(40px); }
#mars-cube .face-3 { transform: rotateY(180deg) translateZ(40px); }
#mars-cube .face-2 { transform: rotateY(90deg) translateZ(40px); }
#mars-cube .face-4 { transform: rotateY(-90deg) translateZ(40px); }
#mars-cube .face-5 { transform: rotateX(90deg) translateZ(40px); }
#mars-cube .face-6 { transform: rotateX(-90deg) translateZ(40px); }
#mars-dice img { width: 100%; height: 100%; pointer-events:none; display:block; object-fit: cover; border-radius: 12px; }
#mars-dice.dice-result { transform: none; }
#mars-dice:hover { outline: 2px solid rgba(66,133,244,0.25); outline-offset: 2px; }

#mars-dice-menu { position: fixed; background: #fff; border: 1px solid rgba(0,0,0,0.12); border-radius: 8px; box-shadow: 0 8px 24px rgba(0,0,0,0.2);
  min-width: 130px; z-index:2147483648; padding:1px; backdrop-filter: blur(2px);
}
#mars-dice-menu.hidden { display:none; }
#mars-dice-menu .cm-list { list-style:none; margin:0; padding:4px 0; }
#mars-dice-menu .cm-item { font-size:11px; line-height:28px; padding:0 12px; color:#202124; border-radius:6px; cursor:default; }
#mars-dice-menu .cm-item:hover { background:#e8f0fe; }
#mars-dice-menu .cm-item:active { background:#d2e3fc; }
#mars-dice-menu .cm-sep { height:1px; margin:4px 8px; background:rgba(0,0,0,0.08); }

#mars-dice-modal.hidden { display:none; }
#mars-dice-modal { position: fixed; left: 50%; top: 50%; transform: translate(-50%,-50%); z-index:2147483650; }
#mars-dice-modal .modal-box { width: 520px; max-width:94vw; background:#fff; border-radius:12px; box-shadow:0 18px 44px rgba(0,0,0,0.35); overflow:hidden; border:1px solid #f3f3f3; }
#mars-dice-modal .modal-header { display:flex; justify-content:space-between; align-items:center; padding:12px 14px; border-bottom:1px solid #f4cccc; font-weight:600; background:#e64747; color:#fff; font-size: 12px;}
#mars-dice-modal .modal-header button { appearance:none; border:none; background:transparent; color:#fff; font-size:16px; line-height:1; padding:4px 6px; border-radius:6px; cursor:pointer; }
#mars-dice-modal .modal-header button:hover { background:rgba(255,255,255,0.12); }
#mars-dice-modal .modal-header button:active { background:rgba(255,255,255,0.18); }
#mars-dice-modal .modal-content { padding:14px; background:#fff; }
#upload-grid { display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; }
.upload-slot { padding:10px; border-radius:10px; background:#fff5f5; display:flex; flex-direction:column; align-items:center; gap:8px; transition: background .15s ease, border-color .15s ease, box-shadow .15s ease; }
.upload-slot:hover { background:#ffeaea; border-color:#ef5350; box-shadow:0 6px 16px rgba(211,47,47,0.15); }
.upload-slot .slot-index { font-size:12px; color:#c62828; font-weight:600; }
.upload-slot .slot-img { width:120px; height:120px; object-fit:cover; border-radius:10px; background:#fff; box-shadow: inset 0 0 0 1px rgba(0,0,0,0.04); }
.upload-slot .slot-actions { display:flex; gap:8px; }
.modal-actions { margin-top:12px; display:flex; gap:10px; justify-content:flex-end; }
.modal-actions button { padding:8px 14px; border-radius:8px; border:1px solid #e0e0e0; background:#fff; cursor:pointer; transition: background .12s ease, border-color .12s ease, box-shadow .12s ease, color .12s ease; }
.modal-actions button:focus { outline:2px solid rgba(229,57,53,0.35); outline-offset:2px; }
/* Upload button styled like former Save (primary) and aligned bottom-right */
.modal-actions #choose-files { background:#e53935; border-color:#d32f2f; color:#fff; margin:0; font-size: 12px; font-weight: 800;}
.modal-actions #choose-files:hover { background:#d32f2f; border-color:#b71c1c; }
.upload-slot .slot-actions button { padding:6px 10px; border-radius:6px; border:1px solid #e0e0e0; background:#fff; cursor:pointer; transition: background .12s ease, border-color .12s ease, color .12s ease, box-shadow .12s ease; }
.upload-slot .slot-actions .replace-btn { border:none; background:none; color:#d74e4e; font-size: 11px; }
.upload-slot .slot-actions .replace-btn:hover { color:#cc2a28; font-weight: 800;}
.upload-slot .slot-actions .clear-btn { border:none; background:none; color:#666666; font-size: 11px; }
.upload-slot .slot-actions .clear-btn:hover { color:#6b6b6b; font-weight: 800;}
.menu-note { font-size:12px; color:#777; margin-top:6px; }

@media (max-width:600px) {
  #upload-grid { grid-template-columns: repeat(2,1fr); }
}
